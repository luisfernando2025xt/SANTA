<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Santa Letter Generator</title>
<style>
    body {
        background: #111;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
    }
    #result {
        margin-top: 20px;
    }
    canvas {
        border-radius: 20px;
        box-shadow: 0 0 20px #ff000055;
    }
</style>
</head>
<body>

<h1>ðŸŽ… Generate Your Santa Letter</h1>

<input id="nameInput" type="text" placeholder="Enter your name" 
       style="padding:10px;font-size:20px;border-radius:10px;width:300px;">
<br><br>

<button onclick="generateImage()" 
        style="padding:10px 20px;font-size:18px;border-radius:10px;">
    Generate Image
</button>

<div id="result"></div>

<script>
function generateImage() {
    const name = document.getElementById("nameInput").value.trim();
    if (!name) {
        alert("Please enter a name first!");
        return;
    }

    const canvas = document.createElement("canvas");
    canvas.width = 900;
    canvas.height = 1200;
    const ctx = canvas.getContext("2d");

    // BACKGROUND
    ctx.fillStyle = "#2a1a0f";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // GLOW BEHIND SANTA
    ctx.beginPath();
    const gradient = ctx.createRadialGradient(450, 400, 50, 450, 400, 500);
    gradient.addColorStop(0, "rgba(255, 200, 150, 0.9)");
    gradient.addColorStop(1, "rgba(0,0,0,0)");
    ctx.fillStyle = gradient;
    ctx.arc(450, 400, 500, 0, Math.PI * 2);
    ctx.fill();

    // SANTA (stylized realistic painting)
    ctx.fillStyle = "#b30000"; // suit
    ctx.fillRect(250, 300, 400, 500);
    ctx.fillStyle = "white"; // fur
    ctx.fillRect(250, 300, 400, 40);

    // Beard
    ctx.fillStyle = "white";
    ctx.beginPath();
    ctx.ellipse(450, 450, 180, 140, 0, 0, Math.PI * 2);
    ctx.fill();

    // Face
    ctx.fillStyle = "#f2d2b6";
    ctx.beginPath();
    ctx.ellipse(450, 370, 120, 90, 0, 0, Math.PI * 2);
    ctx.fill();

    // Hat
    ctx.fillStyle = "#b30000";
    ctx.beginPath();
    ctx.moveTo(330, 270);
    ctx.quadraticCurveTo(450, 150, 600, 270);
    ctx.fill();
    ctx.fillStyle = "white";
    ctx.beginPath();
    ctx.ellipse(450, 270, 180, 30, 0, 0, Math.PI * 2);
    ctx.fill();

    // Letter (glowing parchment)
    ctx.fillStyle = "#f7e6b5";
    ctx.shadowColor = "rgba(255,255,150,0.7)";
    ctx.shadowBlur = 40;
    ctx.fillRect(300, 550, 300, 200);

    ctx.shadowBlur = 0;

    // TEXT (name)
    ctx.fillStyle = "#000";
    ctx.font = "40px serif";
    ctx.textAlign = "center";
    ctx.fillText(name, 450, 660);

    // DISPLAY RESULT
    const img = new Image();
    img.src = canvas.toDataURL("image/png");
    img.style.width = "350px";
    img.style.borderRadius = "20px";

    const dl = document.createElement("a");
    dl.href = img.src;
    dl.download = "santa_letter.png";
    dl.innerText = "Download Image";
    dl.style.display = "block";
    dl.style.marginTop = "10px";
    dl.style.color = "white";

    const result = document.getElementById("result");
    result.innerHTML = "";
    result.appendChild(img);
    result.appendChild(dl);
}
</script>

</body>
</html>
